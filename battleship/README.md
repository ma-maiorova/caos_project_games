# Морской бой

## Описание игры
"Морской бой" — это стратегическая игра для двух игроков. Каждый игрок расставляет корабли на своём поле, затем по очереди стреляет по клеткам поля противника, пытаясь потопить его корабли.

### Правила:
1. Игроки расставляют свои корабли на поле размером 10x10.

  В их арсенале:

    4 корабля по одной клеточке (однопалубный);
    3 корабля по 2 клеточки(двухпалубный);
    2 корабля по 3 клеточки(трехпалубный);
    1 корабль — четырёхпалубный.

  Важно, чтобы между кораблями на поле был зазор хотя бы в одну клеточку

2. На каждом ходе игрок выбирает координаты для выстрела.
3. Если выстрел попадает в корабль противника — он повреждается, игрок стреляет еще раз. Иначе – ход переходит сопернику.
4. Игра заканчивается, когда у одного из игроков потоплены все корабли.
---

## Техническая реализация
Разбираем основные моменты, связанные с игрой

### 1. Компоненты игры

#### 1) Игровое поле
Размер 10х10 клеток. Клетка является одним из символов:

- **Пустая клетка:** .
- **Корабль:** #
- **Подбитый корабль:** x
- **Уничтоженный корабль:** X
- **Промахи:** o

Поле разделено на две части вертикальной чертой. Левая половина принадлежит игроку, правая – сопернику, по краям поля буквенная и численная нумерация строк и столбцов.

```
         ME                     ENEMY
  A B C D E F G I J       A B C D E F G I J   
0 . . . . . . . . . 0 | 0 . . . . . . . . . 0 
1 . . . . . . . . . 1 | 1 . . . . . . . . . 1 
2 . . . . . . . . . 2 | 2 . . x . . . . . . 2
3 . . . . . . # . . 3 | 3 . . x . . . . . . 3
4 . . . . . . # . . 4 | 4 . . o . . . . . . 4
5 . . . . . . # . . 5 | 5 . . . . . . . . . 5 
6 . . . . . . . . . 6 | 6 . . . . . . . . . 6
7 . . . . . . . . . 7 | 7 . . . . . . . . . 7
8 . . # # # # . . . 8 | 8 . . . . . X X . . 8
9 . . . . . . . . . 9 | 9 . . . . . . . . . 9
  A B C D E F G I J      A B C D E F G I J   

  Statistics:
          Alive |  Wrecked  | Destroyed
  --------------+-----------+-----------
  Me:       2   |     0     |     0
  --------------+-----------+-----------
  Enemy:    1   |     1     |     1
```

Дабы не перенагружать систему вся дополнительная информация и шпаргалка будет выводиться при помощи вспомогательной команды. Возможно часть информации будет отображена в интерфейсе, например, статистика попаданий.

#### 2) Сетевой модуль
Сетевое соединение для обмена ходами между игроками через локальную сеть. Пока делать такое не умеем

#### 3) Логика игры
**a. Обработка размещения кораблей** (происходит в консоли, выводятся правила размещения и обновляемое поле с расставленными кораблями; обрабатывать ошибки ввода):
  - Выбор действия: (0) - добавить корабль, (1) - убрать корабль

  Если добавить корабль:
  - Выбор типа корабля (количество палуб) – число от 1 до 4
  - Выбор типа размещения (0) - вертикальный, (1) - горизонтальный
  - Ввод координат размещения (цифра, буква). Размещение проиходит по носу корабля: для горизонтальных нос справа, для вертикальных нос сверху.
  
  Если убрать корабль:
  - Ввод координаты, если на ней находится корабль, он убирается с поля  

**b. Обработка ходов во время игры**

На экране отображается поле и возможно доп информация (статистика или команды), команды вводятся под полем в консоль.

Базово мы ожидаем, что игрок во время своего хода введет координаты для удара по полю противника. Если вместо этого он вводит известную команду (например info), выполняется. Иначе -- сообщение о неправильном вводе координат

**c. Обработка удара:**
  - Консоль: "Ваш ход"
  - Ввод координат удара (цифра, буква). 
  - Вывод статуса удара (промах, подбит, убит), а также обновление поля.
  - Если удар успешный – игрок выбирает следующую координату (на консоль: "Ваш ход" (при этом старые сообщения удаляются, т.е. мы всегда поддерживаем состояние поле и под ним несколько строк команд))
  - Если был промах – ход переходит сопернику (Консоль: "Ход соперника") 
  - Проверка на завершение игры и определение победителя


#### 4) Пользовательский интерфейс
По факту то, как все видит игрок. В целом описан выше

<!-- Начинается игра. Появляется пустое поле, правила размещения кораблей. Игроку предлагается выбрать тип корабля и разместить его на поле:

Правила размещения:

Тип корабля = количество палуб – число от 1 до 4

```
Выберите тип корабля (количество палуб):
=> 3
Выберите тип размещения 
``` -->

### 2. Сетевой модуль
Ждет своего часа быть изученныем на ОС и далее добавленным
<!-- Приложение поддерживает игру по локальной сети с использованием TCP-соединений. Один игрок будет запускать сервер, а второй — подключаться к нему в качестве клиента.

- **Сервер**: Ожидает подключения от клиента и обрабатывает его ходы. После каждого хода сервер отправляет результат на клиентскую сторону.
- **Клиент**: Подключается к серверу и отправляет данные о своих ходах. Получает от сервера информацию о результате выстрела. -->


### 3. Классы и структуры
#### a. Игрок
Поля: поле (экземпляр соответствующего класса), количество живых, подбитых, убитых кораблей

Методы: Вывод любой информации из полей, обработка удара по полю (к нам прилетает ядро, меняем в соответсвие с ним наше поле и статистику)

#### b. Поле
- принять удар
- поставить корабль
- убрать корабль


## Основные этапы разработки

#### Этап 1. Подготовка рабочего окружения
- Настройка git
- Настройка среды разработки (в моем случае VS code)
- Установка необходимых библиотек по ходу дела

#### Этап 2. Проектирование структуры игры
- Описание интерфейса и игровой логики
- Определение структур и классов 
- Иерархия проекта (что где в каких файлах)

#### Этап 3. Создание консольного интерфейса
- Отображение поля в консоли
- Ввод координат для выстрела от игрока
- Обновление экрана после каждого хода

#### Этап 4. Реализация логики игры
- Разработка алгоритмов для размещения кораблей на поле (с проверкой, что они не пересекаются)
- Реализация механизма выстрелов (определение попадания, изменения состояния поля)
- Определение состояния игры (игра продолжается / победа одного из игроков)
- Реализация очередности ходов 

#### Этап 5. Разработка сетевого модуля
TO BE DONE
<!-- - **Серверная часть**:
  - Создание серверного сокета и ожидание подключения клиента.
  - Обработка входящих данных от клиента (выстрелы и состояния игры).
  - Отправка ответов клиенту.
- **Клиентская часть**:
  - Создание клиентского сокета и подключение к серверу.
  - Отправка данных о ходе игры на сервер.
  - Получение и обработка ответов от сервера (успех выстрела, результат игры). -->

#### Этап 6. Тестирование и отладка
- Тестирование правильности работы логики игры (выстрелы, попадания, завершение игры).
- Тестирование интерфейса на различных этапах игры.
- Тестирование работы по сети

#### Этап 7. Оптимизация и доработка


